<%- include('parts/header')%>
<%- include('parts/navbar')%>

<div class="container content">
    <div class="login-container mx-auto">
    <div class="register-header">
        <h4>Register</h4>
    </div>
    <div class="form-container mx-auto">
    <form action="/register" method="POST">
        <div class="form-group row">
            <label for="inputUserName" class="col-lg-2 col-sm-2 col-form-label">Username*:</label>
            <div class="col-lg-10 col-sm-10">
                <input type="text" id="inputUserName" class="form-control" name="username" placeholder="Username">
            </div>
       
        <% let usernameError = validationErrors.find(err => err.param === 'username') %> <!--param contains field checked-->
        <% if(usernameError) { %>
            <p class="alert alert-danger">
                <%= usernameError.msg %>  <!-- msg contain the message returned by falied check -->
            </p>
        <% } %>
        </div>
        <div class="form-group row">
            <label for="inputEmail" class="col-lg-2 col-sm-2 col-form-label">Email*:</label>
            <div class="col-lg-10 col-sm-10">
                <input type="email" id="inputEmail" class="form-control" name="email" placeholder="E-mail">
            </div>
        
        <% let emailError = validationErrors.find(err => err.param === 'email') %> <!--param contains field checked-->
        <% if(emailError) { %>
            <p class="alert alert-danger">
                <%= emailError.msg %>  <!-- msg contain the message returned by falied check -->
            </p>
        <% } %>
        </div>
        <div class="form-group row">
            <label for="inputPassword" class="col-lg-2 col-sm-2 col-form-label">Password*:</label>
            <div class="col-lg-10 col-sm-10">
                <input type="password" id="inputPassword" class="form-control" name="password" placeholder="Password">
            </div>
       
        
        <% let passwordError = validationErrors.find(err => err.param === 'password') %> <!--param contains field checked-->
        <% if(passwordError) { %>
            <p class="alert alert-danger">
                <%= passwordError.msg %>  <!-- msg contain the message returned by falied check -->
            </p>
        <% } %>
        </div>
        <div class="form-group row">
            <label for="inputCPassword" class="col-lg-2 col-sm-2 col-form-label">Confirm Password*:</label>
            <div class="col-lg-10 col-sm-10">
                <input type="password" id="inputCPassword" class="form-control" name="confirmPassword" placeholder="Confirm Password">
            </div>
        
        
        <% let confirmPasswordError = validationErrors.find(err => err.param === 'confirmPassword') %> <!--param contains field checked-->
        <% if(confirmPasswordError) { %>
            <p class="alert alert-danger">
                <%= confirmPasswordError.msg %>  <!-- msg contain the message returned by falied check -->
            </p>
        <% } %>
        </div>
        <div class="form-group row">
            <div class="col-lg-2 col-sm-2"></div>
            <div class="col-lg-10 col-sm-10">
                <input type="submit" value="Register" class="btn btn-primary">
            </div>
        </div>
        
    </form>
    <% if(authError) { %>
        <p class="alert alert-danger">
            <%= authError %>
        </p>
    <% } %>
    </div>
    <!-- We don't have to set if function as there is always an array even empty for validationErrors-->
    <!-- <% for (let error of validationErrors) { %> 
        <p class="alert alert-danger">
            <%= error.msg %> 
        </p>
    <% } %>

    <br>
    <div>
        Already have account ? <a href="/login">Login</a>
    </div> -->
    </div>
</div>

<%- include('parts/footer')%>